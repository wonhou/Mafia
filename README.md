# ![Image](https://github.com/user-attachments/assets/61a0dc9a-23b9-4357-9972-f03e702470d9) AI와 함께하는 마피아 게임: Mafia With AI

# 1. 프로젝트 개요
- 진행기간: 2025.03 ~ 2025.06
- LLM 기반 AI(GPT‑4.1 nano) + 사용자와 함께하는 마피아 게임입니다.

# 2. 프로젝트 소개
<strong>Mafia With AI</strong>는 AI + 사용자로 마피아 게임을 즐길 수 있는 LLM 기반 마피아 게임입니다.
 마피아 게임은 심리적 추리와 사회적 상호작용을 핵심으로 하는 게임입니다. 하지만 8명 이상이 필요한 인원 제약으로 인해 오프라인/온라인 모두에서 원활한 플레이가 어렵다는 한계가 존재합니다. 이에 따라, 실제 사용자 수가 부족할 경우 AI가 부족한 인원을 자동으로 채워주는 시스템을 개발함으로써, 유연하고 접근성 높은 게임 환경을 제공하고자 합니다.

### 게임 규칙
- 인원수 및 직업 구성
  - <strong>8인</strong>으로 구성되며, 사용자가 아닌 경우 AI로 자동 대체
  - 마피아팀 2명, 시민팀 6명으로 구성되며 시민팀에는 특수직업인 의사와 경찰이 각각 한 명씩 있음.
 - 승리조건 
  - 마피아: 마피아와 시민의 수가 같아지면 게임 승리
  - 시민, 의사, 경찰: 모든 마피아를 제거하면 게임 승리

- 투표 규칙
  - 투표의 종류는 낮과 밤으로 나뉨
    - 낮 투표: 살아있는 모든 사람이 참가할 수 있는 투표로 여기서 최다득표자는 사망하게됨.
    - 밤 투표: 시민을 제외한 마피아, 경찰, 의사가 하는 투표로 각각의 직업마다 다른 효과를 지님.
      - 마피아: 동료끼리 소통해 시민을 제거할 수 있음
      - 경찰: 투표한 사람의 직업을 알 수 있음
      - 의사: 투표한 사람은 이번 밤 투표에서 살릴 수 있음
  - 모든 투표는 아래와 같은 규칙을 따름
    - 각 페이즈별 남아있는 시간동안 마음껏 투표대상을 바꿀 수 있으며, 내가 한 투표를 취소할 수도 있음
    - 기본적으로 투표하지 않는다면 이는 무효표를 던진 것으로 간주
    - 밤 투표의 경우 마피아끼리만 자신이 누구에게 투표했는지를 실시간으로 반영
   
### 게임 진행 흐름도
1. `시작`: 각 플레이어는 자신의 직업을 배정받습니다.
2. `밤 진행`: 마피아, 경찰, 의사는 각각 투표를 진행하게 됩니다.
3. `밤 투표 결과 발표`: 의사, 마피아, 경찰의 투표 결과를 확인합니다.
4. `낮 투표`: 낮이 시작될 때 마피아의 투표로 사망자가 나오며, 경찰은 조사 결과가, 의사는 누굴 살렸는지 나오게 됩니다. 각 플레이어와 AI는 대화를 통해 의심스러운 사람을 투표할 수 있습니다.
5. `최종 투표 결과 발표`: 최종 투표 결과를 확인합니다.
6. `2~5` 과정을 반복하여 최종 승리자가 나올 때까지 낮과 밤이 진행됩니다. 
7. `종료`: 어느 측이 승리했는지를 발표하게 되며, 대기 상태로 다시 돌아가게 됩니다.

# 3. 게임 실행 방법

### 필요 파일
![Image](https://github.com/user-attachments/assets/c6bdb286-e960-47b8-8dc2-bbcd88bb7565)

유니티와 node.js파일이 필요합니다. 노드 JS로 server-room.js를 실행시켜 줘야 합니다.

### 첫 화면
![Image](https://github.com/user-attachments/assets/c5d603c7-7c95-4880-812f-0fd3f381af7e)

유저 로그인 기능이 구현되어 있습니다.

### 로비 화면
![Image](https://github.com/user-attachments/assets/3fa18b92-e439-41b1-9271-00ebc23817c9)

로그인 후에는 로비 화면이 나오게 되며 다른 플레이어가 만든 방을 확인할 수 있고 자기가 방을 만들수도 있습니다.

### 방 화면
![Image](https://github.com/user-attachments/assets/e49e26cf-2e4d-4300-9134-4fcee7b5abe5)

다른 유저들의 준비가 완료되면 호스트(방장)는 게임을 시작할 수 있습니다.

### 방 만드는 화면
![Image](https://github.com/user-attachments/assets/4dbf682e-6995-4727-838e-1acdbb5f3988)

자기가 방을 만들 때는 로비 화면에서 CREATE ROOM을 통해 만들 수 있습니다.

### 자기가 방장인 경우
![Image](https://github.com/user-attachments/assets/9931d321-c80c-4841-a828-13592793a52b)

START버튼이 활성화 되며, 8명의 인원이 다 차지 않아도 시작이 가능합니다.

### 게임 시작
![Image](https://github.com/user-attachments/assets/d1064c84-d10b-44af-ab88-81afeb5239b2)

처음에 자기 직업을 배정받으며 왼쪽 위에는 몇번째 낮/밤 인지, 유저 이름이 나타나 있습니다.

### 투표시
![Image](https://github.com/user-attachments/assets/d1b9bf57-d32c-42b9-bf4c-230f895b42c4)

투표 시 해당 아이디에 구별하기 쉽게 나타나 있습니다.

### 낮
![Image](https://github.com/user-attachments/assets/c10ec26e-4984-4d62-bdbd-08a410004583)

다음과 같이 AI와 대화를 통해 마피아를 추리합니다.

### 낮 투표 시작
![Image](https://github.com/user-attachments/assets/91b82433-5734-4d3f-aff2-dabf047ac5b5)

투표가 시작되면 처형할 사람을 고릅니다. AI또한 처형할 사람을 선택하게 됩니다.

### 투표 종료 후 2일차 밤 시작
![Image](https://github.com/user-attachments/assets/86fbd9c9-8f51-4c39-b7f5-d88c8f9bfaca)

투표가 종료된 후 가장 마피아로 의심되는 사람이 처형되고, 다시 밤이 시작됩니다. 이와 같은 과정을 거쳐 마피아가 마피아와 시민의 수가 같아지거나 모든 마피아를 제거하면 게임이 끝나게 됩니다.


## ⚙️ 기술 스택 



## 역할분담 


###  팀장 양정문

- **--**
  - 

###  강민우

- **--**
  - 

###  최범수

- **--**
  - 

###  김원호

- **--**
  - 

